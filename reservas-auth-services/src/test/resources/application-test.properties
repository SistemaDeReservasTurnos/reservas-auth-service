# Configuracion de Servidor
server.port=8081

# Configuracion de Client Credentials de Los Microservicios
application.security.agenda.secret-key=client-secret-para-microservicio-agenda
application.security.pagos.secret-key=client-secret-para-microservicio-pagos

# Configuracion JWT
application.security.client-secret-key=client-secret-para-cliente-gateway

# Configuracion Claves RSA
rsa.keystore.path=classpath:keystore.jks
rsa.keystore.password=secret
rsa.keystore.alias=oauth-key
rsa.keystore.key-password=secret

# Usar H2 en memoria para tests
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=create-drop

# Desactivar Eureka para tests
eureka.client.enabled=false

# Configuracion OAuth2
spring.security.oauth2.authorizationserver.issuer=http://localhost:8081

# Cliente Feign
spring.security.oauth2.client.provider.self.token-uri=http://localhost:8081/oauth2/token
spring.security.oauth2.client.registration.user-service-client.provider=self
spring.security.oauth2.client.registration.user-service-client.client-id=internal-service
spring.security.oauth2.client.registration.user-service-client.client-secret=client-secret-para-microservicios-internos
spring.security.oauth2.client.registration.user-service-client.authorization-grant-type=client_credentials
spring.security.oauth2.client.registration.user-service-client.scope=INTERNAL_SERVICE

# Permite que el bean de test reemplace al de producción
spring.main.allow-bean-definition-overriding=true

# Habilitar logs para depurar tests
logging.level.org.springframework.security=DEBUG